{% assign current_lang = page.lang | default: site.default_lang %}
{% if current_lang == 'en' %}
{% assign content_data = site.data.home-content_en %}
{% else %}
{% assign content_data = site.data.home-content %}
{% endif %}

<!-- MODULES SHOWCASE - Modules PrestaShop -->
<section class="section-creator modules-showcase section-with-icons section-module-icon" id="modules">
    <div class="container-creator">
        <!-- En-tête -->
        <div class="section-header-creator">
            <h2 class="section-title-creator">{{ content_data.modules_showcase.title | default: "Modules PrestaShop" }}
            </h2>
            {% if content_data.modules_showcase.subtitle and content_data.modules_showcase.subtitle != "" %}
            <p class="section-intro-text">{{ content_data.modules_showcase.subtitle }}</p>
            {% endif %}
        </div>

        <!-- Grille de modules -->
        <div class="modules-grid">
            {% for module in content_data.modules_showcase.featured %}
            <div class="module-card">
                <div class="module-image">
                    <a href="{{ module.link }}" target="_blank" rel="noopener">
                        {% capture module_img %}/{{ module.image }}{% endcapture %}
                        {% include responsive-image.html
                        src=module_img
                        alt=module.title
                        loading="lazy"
                        width="400"
                        height="250"
                        %}
                    </a>
                </div>

                <div class="module-content">
                    <h3 class="module-title">
                        <a href="{{ module.link }}" target="_blank" rel="noopener">{{ module.title }}</a>
                    </h3>

                    <p class="module-description">{{ module.description }}</p>

                    {% if module.tags and module.tags.size > 0 %}
                    <div class="module-tags">
                        {% for tag in module.tags %}
                        <span class="tag-badge">{{ tag }}</span>
                        {% endfor %}
                    </div>
                    {% endif %}

                    <a href="{{ module.link }}" target="_blank" rel="noopener" class="module-link">
                        Découvrir <i class="fas fa-external-link-alt"></i>
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>

        <!-- CTA Tous les modules -->
        {% if content_data.modules_showcase.cta %}
        <div class="section-cta-center">
            <a href="{{ content_data.modules_showcase.cta.url }}" target="_blank" rel="noopener"
                class="btn-creator btn-creator-outline-large">
                {{ content_data.modules_showcase.cta.text }}
                <i class="fas fa-external-link-alt"></i>
            </a>
        </div>
        {% endif %}
    </div>
</section>