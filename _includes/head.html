<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">

<!-- Métadonnées optimisées pour IA génératives (GEO) -->
<title>{{ site.title }} | {{ page.title }}</title>
<meta name="description" content="{{ page.description | default: page.excerpt | strip_html | strip | truncatewords: 30 | default: site.description }}">
{% assign current_lang = page.lang | default: site.default_lang %}
<link rel="canonical" href="{{ page.url | absolute_url }}">

<!-- Balises hreflang pour SEO multilingue -->
<link rel="alternate" hreflang="{{ current_lang }}" href="{{ page.url | absolute_url }}">

{% comment %} Pour les articles : trouver la traduction via le système de ref {% endcomment %}
{% if page.ref %}
  {% assign all_posts = site.posts | concat: site.posts_en %}
  {% for alt_post in all_posts %}
    {% if alt_post.ref == page.ref and alt_post.lang != current_lang %}
      <link rel="alternate" hreflang="{{ alt_post.lang }}" href="{{ alt_post.url | absolute_url }}">
    {% endif %}
  {% endfor %}

  {% comment %} x-default pointe vers la version française {% endcomment %}
  {% if current_lang == 'fr' %}
    <link rel="alternate" hreflang="x-default" href="{{ page.url | absolute_url }}">
  {% else %}
    {% for alt_post in all_posts %}
      {% if alt_post.ref == page.ref and alt_post.lang == 'fr' %}
        <link rel="alternate" hreflang="x-default" href="{{ alt_post.url | absolute_url }}">
      {% endif %}
    {% endfor %}
  {% endif %}
{% else %}
  {% comment %} Pour les pages statiques : construire les URLs alternates {% endcomment %}
  {% if current_lang == 'fr' %}
    {% if page.url == '/' or page.url == '/index.html' %}
      {% assign en_url = '/en/' %}
    {% else %}
      {% assign en_url = page.url | prepend: '/en' %}
    {% endif %}
    <link rel="alternate" hreflang="en" href="{{ en_url | absolute_url }}">
    <link rel="alternate" hreflang="x-default" href="{{ page.url | absolute_url }}">
  {% else %}
    {% assign fr_url = page.url | remove_first: '/en' %}
    {% if fr_url == '' or fr_url == '/' %}
      {% assign fr_url = '/' %}
    {% endif %}
    <link rel="alternate" hreflang="fr" href="{{ fr_url | absolute_url }}">
    <link rel="alternate" hreflang="x-default" href="{{ fr_url | absolute_url }}">
  {% endif %}
{% endif %}

{% if page.alternates %}
{% for alt in page.alternates %}
<link rel="alternate" hreflang="{{ alt.lang }}" href="{{ alt.url | absolute_url }}">
{% endfor %}
{% endif %}

<!-- RSS Feeds par langue (pour éviter les doublons dans les automatisations) -->
{% if current_lang == 'fr' %}
  <link rel="alternate" type="application/rss+xml" title="{{ site.title }} - Flux RSS Français" href="{{ '/feed.xml' | absolute_url }}" />
  <link rel="alternate" type="application/rss+xml" title="{{ site.title }} - English RSS Feed" href="{{ '/feed_en.xml' | absolute_url }}" hreflang="en" />
{% else %}
  <link rel="alternate" type="application/rss+xml" title="{{ site.title }} - English RSS Feed" href="{{ '/feed_en.xml' | absolute_url }}" />
  <link rel="alternate" type="application/rss+xml" title="{{ site.title }} - Flux RSS Français" href="{{ '/feed.xml' | absolute_url }}" hreflang="fr" />
{% endif %}

<meta property="og:site_name" content="{{ site.title }}">
<meta property="og:locale" content="{% if current_lang == 'fr' %}fr_FR{% else %}en_US{% endif %}">
<!-- Generative Engine Optimisation (GEO) helpers -->
{% if page.llm_summary %}
<meta name="llm:summary" content="{{ page.llm_summary | escape }}">
{% else %}
<meta name="llm:summary" content="{{ page.description | default: page.excerpt | strip_html | strip | default: site.description }}">
{% endif %}
{% if page.llm_topics %}
<meta name="llm:topics" content="{{ page.llm_topics | join: ', ' | escape }}">
{% else %}
<meta name="llm:topics" content="formations, e‑books, IA, PrestaShop, développement, prompts, bonnes pratiques, expert PHP, développeur FullStack, architecture e-commerce, modules PrestaShop, intelligence artificielle, orchestration IA">
{% endif %}
<meta name="keywords" content="{{ page.keywords | default: site.keywords }}">
<meta name="author" content="{{ site.author.name }}">
{% if page.robots %}
<meta name="robots" content="{{ page.robots }}">
{% else %}
<meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
{% endif %}

<meta name="ai-content-type" content="{% if page.layout == 'post' %}technical-article{% elsif page.layout == 'project' %}portfolio-project{% else %}professional-profile{% endif %}">
<meta name="expertise-level" content="{% if page.difficulty %}{{ page.difficulty }}{% else %}expert{% endif %}">
<meta name="content-category" content="{% for category in page.categories %}{{ category }}{% unless forloop.last %}, {% endunless %}{% endfor %}">
<meta name="target-audience" content="developers, software architects, cto, technical leaders">
<meta name="reading-time" content="{% if page.layout == 'post' %}{{ content | number_of_words | divided_by: 200 | ceil }} minutes{% else %}2 minutes{% endif %}">
<meta name="content-freshness" content="{{ page.date | default: site.time | date_to_xmlschema }}">
{% if page.ai_intent %}<meta name="ai-intent" content="{{ page.ai_intent }}">{% endif %}
{% if page.ai_primary_action %}<meta name="ai-primary-action" content="{{ page.ai_primary_action }}">{% endif %}
{% if page.ai_topics %}<meta name="ai-topics" content="{% if page.ai_topics.size %}{{ page.ai_topics | join: ', ' }}{% else %}{{ page.ai_topics }}{% endif %}">{% endif %}

{% if page.layout == 'post' %}
<!-- Métadonnées spécifiques aux articles techniques -->
<meta name="article-type" content="technical-tutorial">
<meta name="code-samples" content="{% if content contains '```' %}true{% else %}false{% endif %}">
<meta name="practical-examples" content="true">
<meta name="learning-outcomes" content="{{ page.excerpt | strip_html | strip }}">
{% endif %}

{% if page.technologies %}
<meta name="technologies" content="{{ page.technologies | join: ', ' }}">
{% endif %}

<!-- Citation et autorité -->
<meta name="author-expertise" content="15+ years PHP development, PrestaShop expert, AI integration specialist">
<meta name="content-authority" content="primary-source">
<meta name="fact-check-worthy" content="true">
<meta name="llm:intent" content="{% if page.layout == 'post' %}educational{% elsif page.layout == 'project' %}portfolio-showcase{% elsif page.layout == 'product' %}purchase-consideration{% else %}professional-discovery{% endif %}">
<meta name="llm:audience" content="developers, CTOs, business leaders, e-commerce professionals">
<meta name="llm:content-depth" content="{% if page.layout == 'post' %}expert{% else %}overview{% endif %}">
<meta name="llm:industry-focus" content="e-commerce, PHP development, AI integration">
<meta name="llm:geographic-focus" content="France, Europe, international e-commerce">

<!-- Open Graph / Facebook -->
{% if page.layout == 'product' and page.product %}
  {% assign _og_image = page.product.image | absolute_url %}
{% elsif page.image %}
  {% assign _og_image = page.image | absolute_url %}
{% else %}
  {% assign _og_image = '/assets/images/hero/profile-hero.jpg' | absolute_url %}
{% endif %}
<meta property="og:type" content="{% if page.layout == 'product' %}product{% elsif page.layout == 'post' %}article{% else %}website{% endif %}">
<meta property="og:url" content="{{ page.url | absolute_url }}">
<meta property="og:title" content="{{ site.title }} | {{ page.title }}">
<meta property="og:description" content="{{ page.description | default: page.excerpt | strip_html | strip | truncatewords: 30 | default: site.description }}">
<meta property="og:image" content="{{ _og_image }}">
<meta property="og:image:secure_url" content="{{ _og_image }}">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta property="og:image:alt" content="{{ page.title | escape }}">
<meta property="og:image:type" content="image/jpeg">
{% if page.layout == 'product' and page.product and page.product.prix %}
  <meta property="product:price:amount" content="{{ page.product.prix | remove: '€' | strip }}">
  <meta property="product:price:currency" content="EUR">
{% endif %}
<meta property="og:site_name" content="{{ site.title }}">
<meta property="og:locale" content="{% if current_lang == 'fr' %}fr_FR{% else %}en_US{% endif %}">
{% if page.layout == 'post' %}
<meta property="article:published_time" content="{{ page.date | date_to_xmlschema }}">
{% if page.last_modified_at %}
<meta property="article:modified_time" content="{{ page.last_modified_at | date_to_xmlschema }}">
{% endif %}
<meta property="article:author" content="{{ page.author | default: site.author.name }}">
{% if page.categories %}
  {% for category in page.categories %}
<meta property="article:section" content="{{ category }}">
  {% endfor %}
{% endif %}
{% if page.tags %}
  {% for tag in page.tags %}
<meta property="article:tag" content="{{ tag }}">
  {% endfor %}
{% endif %}
{% endif %}

<!-- Twitter -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@nicolasdabene">
<meta name="twitter:creator" content="@nicolasdabene">
<meta name="twitter:url" content="{{ page.url | absolute_url }}">
<meta name="twitter:title" content="{{ site.title }} | {{ page.title }}">
<meta name="twitter:description" content="{{ page.description | default: page.excerpt | strip_html | strip | truncatewords: 30 | default: site.description }}">
<meta name="twitter:image" content="{{ _og_image }}">
<meta name="twitter:image:alt" content="{{ page.title | escape }}">

<!-- Favicon -->
<link rel="icon" type="image/png" href="/assets/images/favicon.png">
<link rel="manifest" href="/manifest.json">

<!-- Couleurs et modes -->
<meta name="color-scheme" content="light dark">
<meta name="supported-color-schemes" content="light dark">
<meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#ffffff">
<meta name="mobile-web-app-capable" content="yes">
<meta name="mobile-web-app-status-bar-style" content="default">
<meta name="msapplication-navbutton-color" content="#ffffff">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-config" content="none">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="light-content">
<meta name="apple-mobile-web-app-title" content="Nicolas Dabène">
<meta name="format-detection" content="telephone=no">
<meta name="color-profile" content="sRGB">
<meta name="color-rendering" content="optimizeQuality">

<!-- Force le rendu sRGB -->
<style>
  * {
    -webkit-color-profile: sRGB !important;
    color-profile: sRGB !important;
  }
</style>

{% include critical-css.html %}

<!-- Styles -->
{% if site.cache_busting %}
  {% assign cache_buster = site.time | date: '%s' %}
{% endif %}
<link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}{% if cache_buster %}?v={{ cache_buster }}{% endif %}">
<link rel="stylesheet" href="{{ '/assets/css/homepage-cards.css' | relative_url }}{% if cache_buster %}?v={{ cache_buster }}{% endif %}">

<!-- Google Fonts - Optimisé pour performance -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600;700&display=swap" as="style">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600;700&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
<noscript><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600;700&display=swap" rel="stylesheet"></noscript>

<!-- FontAwesome pour les icônes sociales - Chargement optimisé -->
<link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" as="style">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" media="print" onload="this.media='all'">
<noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer"></noscript>

<!-- Scripts -->
<script src="{{ '/assets/js/expertise-tabs.js' | relative_url }}" defer></script>

<!-- Schema.org Markup - Enrichi pour GEO -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Person",
  "name": "{{ site.author.name }}",
  "url": "{{ site.url }}",
  "image": "{{ site.url }}/assets/images/hero/profile-hero.jpg",
  "description": "Senior PHP FullStack Developer & AI Orchestrator avec plus de 15 années d'expérience professionnelle depuis 2010, spécialisé en développement e-commerce PrestaShop et intégration d'intelligence artificielle",
  "jobTitle": "Senior PHP FullStack Developer & AI Orchestrator",
  "email": "{{ site.author.email }}",
  "telephone": "+33-XXX-XXX-XXX",
  "address": {
    "@type": "PostalAddress",
    "addressCountry": "FR",
    "addressRegion": "France"
  },
  "sameAs": [
    "https://www.linkedin.com/in/nicolas-dabene/",
    "https://github.com/ndabene",
    "https://www.businesstech.fr/landing/articles/index.html"
  ],
  "alumniOf": {
    "@type": "EducationalOrganization",
    "name": "Formation Continue Technologique"
  },
  "worksFor": {
    "@type": "Organization",
    "name": "Consultant Indépendant",
    "description": "Services de développement web et intégration IA"
  },
  "startDate": "2010",
  "experienceYears": "15+",
  "hasCredential": [
    {
      "@type": "EducationalOccupationalCredential",
      "name": "PrestaShop Certified Developer",
      "credentialCategory": "Professional Certification"
    },
    {
      "@type": "EducationalOccupationalCredential",
      "name": "AWS Solutions Architect Associate",
      "credentialCategory": "Cloud Certification"
    }
  ],
  "knowsAbout": [
    "PHP Development",
    "PrestaShop E-commerce",
    "Artificial Intelligence Integration",
    "Symfony Framework",
    "E-commerce Architecture",
    "AI-Assisted Development",
    "Machine Learning",
    "Web Performance Optimization",
    "Database Optimization",
    "Technical Leadership"
  ],
  "seeks": {
    "@type": "Demand",
    "name": "Projets de développement e-commerce et intégration IA"
  }
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": ["ProfessionalService", "LocalBusiness"],
  "name": "{{ site.title }}",
  "url": "{{ site.url }}",
  "description": "{{ site.description }}",
  "providerMobility": "France entière et remote",
  "address": {
    "@type": "PostalAddress",
    "addressCountry": "FR",
    "addressRegion": "France"
  },
  "geo": {
    "@type": "GeoCoordinates",
    "latitude": "43.616667",
    "longitude": "7.066667"
  },
  "areaServed": [
    {
      "@type": "Country",
      "name": "France"
    },
    {
      "@type": "Place",
      "name": "Europe (Remote)"
    },
    {
      "@type": "GeoCircle",
      "geoMidpoint": {
        "@type": "GeoCoordinates",
        "latitude": "43.616667",
        "longitude": "7.066667"
      },
      "geoRadius": "1000000"
    }
  ],
  "priceRange": "€€€",
  "telephone": "+33-XXX-XXX-XXX",
  "email": "{{ site.author.email }}",
  "openingHoursSpecification": [
    {
      "@type": "OpeningHoursSpecification",
      "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"],
      "opens": "09:00",
      "closes": "18:00"
    }
  ],
  "serviceType": [
    "Développement Web PHP",
    "Architecture E-commerce PrestaShop",
    "Intégration Intelligence Artificielle",
    "Optimisation Performance Web",
    "Conseil Technique et Stratégique",
    "Formation Développement",
    "Audit Code et Sécurité"
  ],
  "availableChannel": {
    "@type": "ServiceChannel",
    "serviceUrl": "{{ site.url }}/contact",
    "availableLanguage": ["French", "English"]
  },
  "hasOfferCatalog": {
    "@type": "OfferCatalog",
    "name": "Portfolio de Services Techniques",
    "itemListElement": [
      {
        "@type": "Offer",
        "name": "Développement E-commerce PrestaShop",
        "description": "Création et customisation de boutiques PrestaShop haute performance",
        "itemOffered": {
          "@type": "Service",
          "name": "Développement PrestaShop",
          "serviceType": "E-commerce Development",
          "category": "Web Development"
        },
        "priceSpecification": {
          "@type": "PriceSpecification",
          "priceCurrency": "EUR",
          "price": "Sur devis"
        }
      },
      {
        "@type": "Offer",
        "name": "Intégration Intelligence Artificielle",
        "description": "Implémentation d'IA dans les workflows existants pour automatisation et optimisation",
        "itemOffered": {
          "@type": "Service",
          "name": "AI Integration Services",
          "serviceType": "Artificial Intelligence",
          "category": "Technology Consulting"
        }
      },
      {
        "@type": "Offer",
        "name": "Architecture & Performance Web",
        "description": "Optimisation et refactoring d'applications web pour haute performance",
        "itemOffered": {
          "@type": "Service",
          "name": "Web Performance Optimization",
          "serviceType": "Technical Optimization",
          "category": "Software Architecture"
        }
      }
    ]
  },
  "award": [
    "PrestaShop Certified Developer",
    "15+ années d'expertise technique",
    "50+ projets e-commerce réalisés"
  ],
  "slogan": "Expert PHP & AI Orchestrator - Transformez votre vision en réalité digitale"
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "{{ page.title | escape }}",
  "description": "{{ page.description | default: page.excerpt | strip_html | strip | truncatewords: 30 | default: site.description | escape }}",
  "url": "{{ page.url | absolute_url }}",
  "inLanguage": "{% if current_lang == 'fr' %}fr-FR{% else %}en-US{% endif %}",
  "isPartOf": {
    "@type": "WebSite",
    "name": "{{ site.title | escape }}",
    "url": "{{ site.url }}"
  }
}
</script>

{% include breadcrumb-jsonld.html %}

<!-- Resource hints pour optimiser AdSense (preconnect avant chargement) -->
<link rel="preconnect" href="https://pagead2.googlesyndication.com" crossorigin>
<link rel="preconnect" href="https://googleads.g.doubleclick.net" crossorigin>
<link rel="dns-prefetch" href="https://adservice.google.com">
<link rel="dns-prefetch" href="https://fundingchoicesmessages.google.com">

<!-- Google Funding Choices - Gestion du consentement pour la monétisation -->
<script async src="https://fundingchoicesmessages.google.com/i/pub-1445021827447908?ers=1"></script>
<script>(function() {function signalGooglefcPresent() {if (!window.frames['googlefcPresent']) {if (document.body) {const iframe = document.createElement('iframe'); iframe.style = 'width: 0; height: 0; border: none; z-index: -1000; left: -1000px; top: -1000px;'; iframe.style.display = 'none'; iframe.name = 'googlefcPresent'; document.body.appendChild(iframe);} else {setTimeout(signalGooglefcPresent, 0);}}}signalGooglefcPresent();})();</script>

<!-- Google AdSense - Chargé avec lazy loading via adsense-lazy-loader.js -->
<!-- Le script sera chargé uniquement quand nécessaire et avec consentement -->
<script src="{{ '/assets/js/adsense-lazy-loader.js' | relative_url }}" defer></script>