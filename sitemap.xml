---
layout: null
---
<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"
        xmlns:image="http://www.google.com/schemas/sitemap-image/1.1"
        xmlns:xhtml="http://www.w3.org/1999/xhtml">

  <!-- Homepage FR -->
  <url>
    <loc>{{ site.url }}/</loc>
    <xhtml:link rel="alternate" hreflang="fr" href="{{ site.url }}/" />
    <xhtml:link rel="alternate" hreflang="en" href="{{ site.url }}/en/" />
    <xhtml:link rel="alternate" hreflang="x-default" href="{{ site.url }}/" />
    <lastmod>{{ site.time | date: "%Y-%m-%dT%H:%M:%S%:z" }}</lastmod>
    <changefreq>weekly</changefreq>
    <priority>1.0</priority>
  </url>

  <!-- Homepage EN -->
  <url>
    <loc>{{ site.url }}/en/</loc>
    <xhtml:link rel="alternate" hreflang="fr" href="{{ site.url }}/" />
    <xhtml:link rel="alternate" hreflang="en" href="{{ site.url }}/en/" />
    <xhtml:link rel="alternate" hreflang="x-default" href="{{ site.url }}/" />
    <lastmod>{{ site.time | date: "%Y-%m-%dT%H:%M:%S%:z" }}</lastmod>
    <changefreq>weekly</changefreq>
    <priority>1.0</priority>
  </url>

  <!-- Pages FR/EN -->
  {% for page in site.pages %}
    {% unless page.sitemap.exclude == "yes" or page.name contains ".xml" or page.name contains ".txt" or page.name contains ".css" or page.name contains ".scss" or page.name contains ".js" or page.name contains ".sh" or page.name contains "robots" or page.url == "/" or page.name == "redirect.html" or page.name == "maintenance.html" %}
    {% assign last = page.last_modified_at | default: page.date | default: site.time %}
    {% assign page_lang = page.lang | default: "fr" %}
    <url>
      <loc>{{ page.url | prepend: site.url }}</loc>
      <xhtml:link rel="alternate" hreflang="{{ page_lang }}" href="{{ page.url | prepend: site.url }}" />
      {% if page.alternates %}
        {% comment %} Use explicit alternates when defined (handles mismatched FR/EN paths) {% endcomment %}
        {% for alt in page.alternates %}
        <xhtml:link rel="alternate" hreflang="{{ alt.lang }}" href="{{ alt.url | prepend: site.url }}" />
        {% endfor %}
      {% elsif page_lang == "fr" %}
        {% assign en_url = page.url | prepend: "/en" %}
        <xhtml:link rel="alternate" hreflang="en" href="{{ en_url | prepend: site.url }}" />
      {% else %}
        {% assign fr_url = page.url | remove_first: "/en" %}
        <xhtml:link rel="alternate" hreflang="fr" href="{{ fr_url | prepend: site.url }}" />
      {% endif %}
      {% comment %} x-default points to FR version {% endcomment %}
      {% if page_lang == "fr" %}
      <xhtml:link rel="alternate" hreflang="x-default" href="{{ page.url | prepend: site.url }}" />
      {% elsif page.alternates %}
        {% for alt in page.alternates %}
          {% if alt.lang == "fr" %}
      <xhtml:link rel="alternate" hreflang="x-default" href="{{ alt.url | prepend: site.url }}" />
          {% endif %}
        {% endfor %}
      {% else %}
        {% assign fr_url = page.url | remove_first: "/en" %}
      <xhtml:link rel="alternate" hreflang="x-default" href="{{ fr_url | prepend: site.url }}" />
      {% endif %}
      <lastmod>{{ last | date: "%Y-%m-%dT%H:%M:%S%:z" }}</lastmod>
      <changefreq>{% if page.sitemap.changefreq %}{{ page.sitemap.changefreq }}{% elsif page.pillar_page %}weekly{% else %}monthly{% endif %}</changefreq>
      <priority>{% if page.sitemap.priority %}{{ page.sitemap.priority }}{% elsif page.pillar_page %}1.0{% else %}0.8{% endif %}</priority>
      {% if page.image %}
      <image:image>
        <image:loc>{{ page.image | prepend: site.url }}</image:loc>
        <image:title>{% if page.title %}{{ page.title | xml_escape }}{% else %}{{ page.name | xml_escape }}{% endif %}</image:title>
      </image:image>
      {% endif %}
    </url>
    {% endunless %}
  {% endfor %}

  <!-- Blog Posts FR -->
  {% for post in site.posts %}
    {% unless post.sitemap.exclude == "yes" %}
    {% comment %} Masquer uniquement si hide_until_published est true ET la date est dans le futur {% endcomment %}
    {% if post.hide_until_published != true or post.date <= site.time %}
    {% assign last = post.last_modified_at | default: post.date | default: site.time %}
    <url>
      <loc>{{ post.url | prepend: site.url }}</loc>
      <xhtml:link rel="alternate" hreflang="fr" href="{{ post.url | prepend: site.url }}" />
      {% if post.ref %}
        {% assign all_posts_en = site.posts_en %}
        {% for alt_post in all_posts_en %}
          {% if alt_post.ref == post.ref %}
            <xhtml:link rel="alternate" hreflang="en" href="{{ alt_post.url | prepend: site.url }}" />
          {% endif %}
        {% endfor %}
      {% endif %}
      <xhtml:link rel="alternate" hreflang="x-default" href="{{ post.url | prepend: site.url }}" />
      <lastmod>{{ last | date: "%Y-%m-%dT%H:%M:%S%:z" }}</lastmod>
      <changefreq>{% if post.sitemap.changefreq %}{{ post.sitemap.changefreq }}{% elsif post.pillar_page %}weekly{% else %}yearly{% endif %}</changefreq>
      <priority>{% if post.pillar_page %}1.0{% elsif post.sitemap.priority %}{{ post.sitemap.priority }}{% elsif post.featured %}0.9{% else %}0.7{% endif %}</priority>
      {% if post.image %}
      <image:image>
        <image:loc>{{ post.image | prepend: site.url }}</image:loc>
        <image:title>{{ post.title | xml_escape }}</image:title>
        {% if post.description %}<image:caption>{{ post.description | xml_escape }}</image:caption>{% endif %}
      </image:image>
      {% endif %}
    </url>
    {% endif %}
    {% endunless %}
  {% endfor %}

  <!-- Blog Posts EN -->
  {% for post in site.posts_en %}
    {% unless post.sitemap.exclude == "yes" %}
    {% comment %} Masquer uniquement si hide_until_published est true ET la date est dans le futur {% endcomment %}
    {% if post.hide_until_published != true or post.date <= site.time %}
    {% assign last = post.last_modified_at | default: post.date | default: site.time %}
    <url>
      <loc>{{ post.url | prepend: site.url }}</loc>
      <xhtml:link rel="alternate" hreflang="en" href="{{ post.url | prepend: site.url }}" />
      {% if post.ref %}
        {% assign all_posts_fr = site.posts %}
        {% for alt_post in all_posts_fr %}
          {% if alt_post.ref == post.ref %}
            <xhtml:link rel="alternate" hreflang="fr" href="{{ alt_post.url | prepend: site.url }}" />
            <xhtml:link rel="alternate" hreflang="x-default" href="{{ alt_post.url | prepend: site.url }}" />
          {% endif %}
        {% endfor %}
      {% endif %}
      <lastmod>{{ last | date: "%Y-%m-%dT%H:%M:%S%:z" }}</lastmod>
      <changefreq>{% if post.sitemap.changefreq %}{{ post.sitemap.changefreq }}{% elsif post.pillar_page %}weekly{% else %}yearly{% endif %}</changefreq>
      <priority>{% if post.pillar_page %}1.0{% elsif post.sitemap.priority %}{{ post.sitemap.priority }}{% elsif post.featured %}0.9{% else %}0.7{% endif %}</priority>
      {% if post.image %}
      <image:image>
        <image:loc>{{ post.image | prepend: site.url }}</image:loc>
        <image:title>{{ post.title | xml_escape }}</image:title>
        {% if post.description %}<image:caption>{{ post.description | xml_escape }}</image:caption>{% endif %}
      </image:image>
      {% endif %}
    </url>
    {% endif %}
    {% endunless %}
  {% endfor %}

  <!-- Projects FR -->
  {% for project in site.projects %}
    {% unless project.sitemap.exclude == "yes" %}
    {% assign last = project.last_modified_at | default: project.date | default: site.time %}
    <url>
      <loc>{{ project.url | prepend: site.url }}</loc>
      <xhtml:link rel="alternate" hreflang="fr" href="{{ project.url | prepend: site.url }}" />
      {% if project.ref %}
        {% for alt_project in site.projects_en %}
          {% if alt_project.ref == project.ref %}
            <xhtml:link rel="alternate" hreflang="en" href="{{ alt_project.url | prepend: site.url }}" />
          {% endif %}
        {% endfor %}
      {% endif %}
      <lastmod>{{ last | date: "%Y-%m-%dT%H:%M:%S%:z" }}</lastmod>
      <changefreq>{% if project.sitemap.changefreq %}{{ project.sitemap.changefreq }}{% else %}yearly{% endif %}</changefreq>
      <priority>{% if project.sitemap.priority %}{{ project.sitemap.priority }}{% else %}0.6{% endif %}</priority>
      {% if project.image %}
      <image:image>
        <image:loc>{{ project.image | prepend: site.url }}</image:loc>
        <image:title>{{ project.title | xml_escape }}</image:title>
        {% if project.description %}<image:caption>{{ project.description | xml_escape }}</image:caption>{% endif %}
      </image:image>
      {% endif %}
    </url>
    {% endunless %}
  {% endfor %}

  <!-- Projects EN -->
  {% for project in site.projects_en %}
    {% unless project.sitemap.exclude == "yes" %}
    {% assign last = project.last_modified_at | default: project.date | default: site.time %}
    <url>
      <loc>{{ project.url | prepend: site.url }}</loc>
      <xhtml:link rel="alternate" hreflang="en" href="{{ project.url | prepend: site.url }}" />
      {% if project.ref %}
        {% for alt_project in site.projects %}
          {% if alt_project.ref == project.ref %}
            <xhtml:link rel="alternate" hreflang="fr" href="{{ alt_project.url | prepend: site.url }}" />
          {% endif %}
        {% endfor %}
      {% endif %}
      <lastmod>{{ last | date: "%Y-%m-%dT%H:%M:%S%:z" }}</lastmod>
      <changefreq>{% if project.sitemap.changefreq %}{{ project.sitemap.changefreq }}{% else %}yearly{% endif %}</changefreq>
      <priority>{% if project.sitemap.priority %}{{ project.sitemap.priority }}{% else %}0.6{% endif %}</priority>
      {% if project.image %}
      <image:image>
        <image:loc>{{ project.image | prepend: site.url }}</image:loc>
        <image:title>{{ project.title | xml_escape }}</image:title>
        {% if project.description %}<image:caption>{{ project.description | xml_escape }}</image:caption>{% endif %}
      </image:image>
      {% endif %}
    </url>
    {% endunless %}
  {% endfor %}

  <!-- Case Studies FR -->
  {% for case_study in site.case_studies %}
    {% unless case_study.sitemap.exclude == "yes" %}
    {% assign last = case_study.last_modified_at | default: case_study.date | default: site.time %}
    <url>
      <loc>{{ case_study.url | prepend: site.url }}</loc>
      <xhtml:link rel="alternate" hreflang="fr" href="{{ case_study.url | prepend: site.url }}" />
      {% if case_study.ref %}
        {% for alt_case in site.case_studies_en %}
          {% if alt_case.ref == case_study.ref %}
            <xhtml:link rel="alternate" hreflang="en" href="{{ alt_case.url | prepend: site.url }}" />
          {% endif %}
        {% endfor %}
      {% endif %}
      <lastmod>{{ last | date: "%Y-%m-%dT%H:%M:%S%:z" }}</lastmod>
      <changefreq>{% if case_study.sitemap.changefreq %}{{ case_study.sitemap.changefreq }}{% else %}yearly{% endif %}</changefreq>
      <priority>{% if case_study.sitemap.priority %}{{ case_study.sitemap.priority }}{% else %}0.5{% endif %}</priority>
      {% if case_study.image %}
      <image:image>
        <image:loc>{{ case_study.image | prepend: site.url }}</image:loc>
        <image:title>{{ case_study.title | xml_escape }}</image:title>
        {% if case_study.description %}<image:caption>{{ case_study.description | xml_escape }}</image:caption>{% endif %}
      </image:image>
      {% endif %}
    </url>
    {% endunless %}
  {% endfor %}

  <!-- Case Studies EN -->
  {% for case_study in site.case_studies_en %}
    {% unless case_study.sitemap.exclude == "yes" %}
    {% assign last = case_study.last_modified_at | default: case_study.date | default: site.time %}
    <url>
      <loc>{{ case_study.url | prepend: site.url }}</loc>
      <xhtml:link rel="alternate" hreflang="en" href="{{ case_study.url | prepend: site.url }}" />
      {% if case_study.ref %}
        {% for alt_case in site.case_studies %}
          {% if alt_case.ref == case_study.ref %}
            <xhtml:link rel="alternate" hreflang="fr" href="{{ alt_case.url | prepend: site.url }}" />
          {% endif %}
        {% endfor %}
      {% endif %}
      <lastmod>{{ last | date: "%Y-%m-%dT%H:%M:%S%:z" }}</lastmod>
      <changefreq>{% if case_study.sitemap.changefreq %}{{ case_study.sitemap.changefreq }}{% else %}yearly{% endif %}</changefreq>
      <priority>{% if case_study.sitemap.priority %}{{ case_study.sitemap.priority }}{% else %}0.5{% endif %}</priority>
      {% if case_study.image %}
      <image:image>
        <image:loc>{{ case_study.image | prepend: site.url }}</image:loc>
        <image:title>{{ case_study.title | xml_escape }}</image:title>
        {% if case_study.description %}<image:caption>{{ case_study.description | xml_escape }}</image:caption>{% endif %}
      </image:image>
      {% endif %}
    </url>
    {% endunless %}
  {% endfor %}

  <!-- Quizzes FR -->
  {% for quiz in site.quizz %}
    {% unless quiz.sitemap.exclude == "yes" %}
    {% assign last = quiz.last_modified_at | default: quiz.date | default: site.time %}
    <url>
      <loc>{{ quiz.url | prepend: site.url }}</loc>
      <xhtml:link rel="alternate" hreflang="fr" href="{{ quiz.url | prepend: site.url }}" />
      {% if quiz.ref %}
        {% for alt_quiz in site.quizz_en %}
          {% if alt_quiz.ref == quiz.ref %}
            <xhtml:link rel="alternate" hreflang="en" href="{{ alt_quiz.url | prepend: site.url }}" />
          {% endif %}
        {% endfor %}
      {% endif %}
      <lastmod>{{ last | date: "%Y-%m-%dT%H:%M:%S%:z" }}</lastmod>
      <changefreq>{% if quiz.sitemap.changefreq %}{{ quiz.sitemap.changefreq }}{% else %}monthly{% endif %}</changefreq>
      <priority>{% if quiz.sitemap.priority %}{{ quiz.sitemap.priority }}{% else %}0.6{% endif %}</priority>
      {% if quiz.image %}
      <image:image>
        <image:loc>{{ quiz.image | prepend: site.url }}</image:loc>
        <image:title>{{ quiz.title | xml_escape }}</image:title>
      </image:image>
      {% endif %}
    </url>
    {% endunless %}
  {% endfor %}

  <!-- Quizzes EN -->
  {% for quiz in site.quizz_en %}
    {% unless quiz.sitemap.exclude == "yes" %}
    {% assign last = quiz.last_modified_at | default: quiz.date | default: site.time %}
    <url>
      <loc>{{ quiz.url | prepend: site.url }}</loc>
      <xhtml:link rel="alternate" hreflang="en" href="{{ quiz.url | prepend: site.url }}" />
      {% if quiz.ref %}
        {% for alt_quiz in site.quizz %}
          {% if alt_quiz.ref == quiz.ref %}
            <xhtml:link rel="alternate" hreflang="fr" href="{{ alt_quiz.url | prepend: site.url }}" />
          {% endif %}
        {% endfor %}
      {% endif %}
      <lastmod>{{ last | date: "%Y-%m-%dT%H:%M:%S%:z" }}</lastmod>
      <changefreq>{% if quiz.sitemap.changefreq %}{{ quiz.sitemap.changefreq }}{% else %}monthly{% endif %}</changefreq>
      <priority>{% if quiz.sitemap.priority %}{{ quiz.sitemap.priority }}{% else %}0.6{% endif %}</priority>
      {% if quiz.image %}
      <image:image>
        <image:loc>{{ quiz.image | prepend: site.url }}</image:loc>
        <image:title>{{ quiz.title | xml_escape }}</image:title>
      </image:image>
      {% endif %}
    </url>
    {% endunless %}
  {% endfor %}

  <!-- Tag Pages FR -->
  {% assign all_tags_fr = "" | split: "" %}
  {% for post in site.posts %}
    {% if post.tags %}
      {% for tag in post.tags %}
        {% unless all_tags_fr contains tag %}
          {% assign all_tags_fr = all_tags_fr | push: tag %}
        {% endunless %}
      {% endfor %}
    {% endif %}
  {% endfor %}

  {% assign all_tags_en = "" | split: "" %}
  {% for post in site.posts_en %}
    {% if post.tags %}
      {% for tag in post.tags %}
        {% unless all_tags_en contains tag %}
          {% assign all_tags_en = all_tags_en | push: tag %}
        {% endunless %}
      {% endfor %}
    {% endif %}
  {% endfor %}

  {% for tag in all_tags_fr %}
    {% assign slug = tag | slugify: "pretty" %}
    <url>
      <loc>{{ site.url }}/blog/tags/{{ slug }}/</loc>
      <xhtml:link rel="alternate" hreflang="fr" href="{{ site.url }}/blog/tags/{{ slug }}/" />
      {% comment %} Cross-reference EN tag if same slug exists {% endcomment %}
      {% for tag_en in all_tags_en %}
        {% assign slug_en = tag_en | slugify: "pretty" %}
        {% if slug_en == slug %}
      <xhtml:link rel="alternate" hreflang="en" href="{{ site.url }}/en/blog/tags/{{ slug }}/" />
        {% endif %}
      {% endfor %}
      <lastmod>{{ site.time | date: "%Y-%m-%dT%H:%M:%S%:z" }}</lastmod>
      <changefreq>weekly</changefreq>
      <priority>0.6</priority>
    </url>
  {% endfor %}

  <!-- Tag Pages EN -->
  {% for tag in all_tags_en %}
    {% assign slug = tag | slugify: "pretty" %}
    <url>
      <loc>{{ site.url }}/en/blog/tags/{{ slug }}/</loc>
      <xhtml:link rel="alternate" hreflang="en" href="{{ site.url }}/en/blog/tags/{{ slug }}/" />
      {% comment %} Cross-reference FR tag if same slug exists {% endcomment %}
      {% for tag_fr in all_tags_fr %}
        {% assign slug_fr = tag_fr | slugify: "pretty" %}
        {% if slug_fr == slug %}
      <xhtml:link rel="alternate" hreflang="fr" href="{{ site.url }}/blog/tags/{{ slug }}/" />
        {% endif %}
      {% endfor %}
      <lastmod>{{ site.time | date: "%Y-%m-%dT%H:%M:%S%:z" }}</lastmod>
      <changefreq>weekly</changefreq>
      <priority>0.6</priority>
    </url>
  {% endfor %}

</urlset>
