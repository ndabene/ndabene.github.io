---
layout: null
---
<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"
        xmlns:image="http://www.google.com/schemas/sitemap-image/1.1">
  
  <!-- Page d'accueil (exclue des pages loop pour éviter duplication) -->
  <url>
    <loc>{{ site.url }}/</loc>
    <lastmod>{{ site.time | date_to_xmlschema }}</lastmod>
    <changefreq>weekly</changefreq>
    <priority>1.0</priority>
  </url>
  
  <!-- Pages statiques -->
  {% for page in site.pages %}
    {% unless page.sitemap.exclude == "yes" or page.name contains ".xml" or page.name contains ".txt" or page.name contains ".json" or page.name contains ".sh" or page.name contains "robots" or page.url == "/" or page.name == "index.md" or page.name == "index.html" %}
    <url>
      <loc>{{ page.url | prepend: site.url }}</loc>
      {% if page.date %}
        <lastmod>{{ page.date | date_to_xmlschema }}</lastmod>
      {% else %}
        <lastmod>{{ site.time | date_to_xmlschema }}</lastmod>
      {% endif %}
      {% if page.sitemap.changefreq %}
        <changefreq>{{ page.sitemap.changefreq }}</changefreq>
      {% else %}
        <changefreq>monthly</changefreq>
      {% endif %}
      {% if page.sitemap.priority %}
        <priority>{{ page.sitemap.priority }}</priority>
      {% else %}
        <priority>0.8</priority>
      {% endif %}
      {% if page.image %}
        <image:image>
          <image:loc>{{ page.image | prepend: site.url }}</image:loc>
        </image:image>
      {% endif %}
    </url>
    {% endunless %}
  {% endfor %}
  
  <!-- Articles de blog -->
  {% for post in site.posts %}
    <url>
      <loc>{{ post.url | prepend: site.url }}</loc>
      <lastmod>{{ post.date | date_to_xmlschema }}</lastmod>
        <changefreq>{% if post.sitemap.changefreq %}{{ post.sitemap.changefreq }}{% else %}yearly{% endif %}</changefreq>
        <priority>{% if post.featured %}0.9{% elsif post.sitemap.priority %}{{ post.sitemap.priority }}{% else %}0.7{% endif %}</priority>
        {% if post.image %}
          <image:image>
            <image:loc>{{ post.image | prepend: site.url }}</image:loc>
          </image:image>
        {% endif %}
      </url>
  {% endfor %}
  
  <!-- Projets -->
  {% for project in site.projects %}
    <url>
      <loc>{{ project.url | prepend: site.url }}</loc>
      {% if project.date %}
        <lastmod>{{ project.date | date_to_xmlschema }}</lastmod>
      {% else %}
        <lastmod>{{ site.time | date_to_xmlschema }}</lastmod>
      {% endif %}
      <changefreq>{% if project.sitemap.changefreq %}{{ project.sitemap.changefreq }}{% else %}yearly{% endif %}</changefreq>
        <priority>{% if project.sitemap.priority %}{{ project.sitemap.priority }}{% else %}0.8{% endif %}</priority>
      {% assign project_image = project.image | default: project.hero_image %}
      {% if project_image %}
        <image:image>
          <image:loc>{{ project_image | prepend: site.url }}</image:loc>
        </image:image>
      {% endif %}
      </url>
  {% endfor %}
  
  <!-- Études de cas -->
  {% for case_study in site.case_studies %}
    <url>
      <loc>{{ case_study.url | prepend: site.url }}</loc>
      {% if case_study.date %}
        <lastmod>{{ case_study.date | date_to_xmlschema }}</lastmod>
      {% else %}
        <lastmod>{{ site.time | date_to_xmlschema }}</lastmod>
      {% endif %}
      <changefreq>{% if case_study.sitemap.changefreq %}{{ case_study.sitemap.changefreq }}{% else %}yearly{% endif %}</changefreq>
        <priority>{% if case_study.sitemap.priority %}{{ case_study.sitemap.priority }}{% else %}0.8{% endif %}</priority>
      {% assign cs_image = case_study.image | default: case_study.hero_image %}
      {% if cs_image %}
        <image:image>
          <image:loc>{{ cs_image | prepend: site.url }}</image:loc>
        </image:image>
      {% endif %}
      </url>
  {% endfor %}
  
</urlset>