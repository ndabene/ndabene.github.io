// Blog styles

.post-list {
  list-style: none;
  padding: 0;

  li {
    margin-bottom: $spacing-md;
    padding-bottom: $spacing-md;
    border-bottom: 1px solid $light-gray;

    &:last-child {
      border-bottom: none;
    }
  }

  .post-title {
    font-size: $h3-size;
    margin-bottom: $spacing-xs;

    a {
      color: $primary-navy;
      text-decoration: none;

      &:hover {
        color: $primary-blue;
      }
    }
  }

  .post-meta {
    font-size: $small-size;
    color: $secondary-gray;
    margin-bottom: $spacing-xs;
  }

  .post-excerpt {
    font-size: $body-size;
    line-height: $line-height-normal;
  }
}

.post-content {
  h1, h2, h3, h4, h5, h6 {
    color: $primary-navy;
    margin-top: $spacing-lg;
    margin-bottom: $spacing-sm;
  }

  h1 { font-size: $h2-size; }
  h2 { font-size: $h3-size; }
  h3 { font-size: $h4-size; }

  p {
    margin-bottom: $spacing-md;
    line-height: 1.8;
    color: #374151;
    font-size: 1.05rem;
  }
  
  // Améliorer l'espacement et la lisibilité
  > *:first-child {
    margin-top: 0;
  }
  
  > *:last-child {
    margin-bottom: 0;
  }

  img {
    max-width: 100%;
    height: auto;
    display: block;
    margin: $spacing-md auto;
    border-radius: 8px;
  }

  ul, ol {
    margin-left: $spacing-md;
    margin-bottom: $spacing-md;
    
    li {
      margin-bottom: $spacing-xs;
      line-height: 1.7;
      color: #374151;
    }
  }

  blockquote {
    border-left: 4px solid $primary-blue;
    padding: $spacing-md $spacing-lg;
    margin: $spacing-lg 0;
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.03) 0%, rgba(99, 102, 241, 0.05) 100%);
    border-radius: 0 8px 8px 0;
    color: #475569;
    font-style: italic;
    position: relative;
    
    &::before {
      content: '"';
      position: absolute;
      top: -8px;
      left: 16px;
      font-size: 3rem;
      color: rgba(59, 130, 246, 0.2);
      font-family: serif;
      line-height: 1;
    }
  }

  // COLORATION SYNTAXIQUE - Styles Rouge
  // Style de base pour les blocs de code avec coloration
  .highlight {
    background: #1e1e1e;
    color: #d4d4d4;
    border-radius: 8px;
    overflow-x: auto;
    margin: 1.5rem 0;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    
    pre {
      background: transparent;
      color: inherit;
      padding: 1.5rem;
      margin: 0;
      border: none;
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
      font-size: 0.9rem;
      line-height: 1.6;
      overflow-x: auto;
    }
    
    code {
      background: transparent;
      color: inherit;
      padding: 0;
      border: none;
      font-size: inherit;
    }

    // Tokens de coloration pour différents langages
    // Commentaires
    .c, .c1, .cm, .cp, .cs { color: #6a9955; font-style: italic; }
    
    // Mots-clés
    .k, .kc, .kd, .kn, .kp, .kr, .kt { color: #569cd6; font-weight: bold; }
    
    // Chaînes de caractères
    .s, .s1, .s2, .sb, .sc, .sd, .se, .sh, .si, .sx { color: #ce9178; }
    
    // Nombres
    .m, .mf, .mh, .mi, .mo { color: #b5cea8; }
    
    // Opérateurs
    .o, .ow { color: #d4d4d4; }
    
    // Noms de variables et fonctions
    .n, .na, .nb, .nc, .nd, .ne, .nf, .ni, .nl, .nn, .no, .nt, .nv { color: #dcdcaa; }
    
    // Classes
    .nc { color: #4ec9b0; }
    
    // Fonctions
    .nf { color: #dcdcaa; }
    
    // Attributs
    .na { color: #92c5f8; }
    
    // Types
    .kt { color: #4ec9b0; }
    
    // Erreurs
    .err { color: #f44747; background: rgba(244, 71, 71, 0.1); }
    
    // Variables d'instance, globales
    .vi, .vg { color: #4fc1ff; }
    
    // Ponctuation
    .p { color: #d4d4d4; }
    
    // Délimiteurs
    .dl { color: #ce9178; }

    // Variables PHP (spécial)
    .nv { color: #4fc1ff; }
    
    // Built-ins Python
    .bp { color: #4ec9b0; }
    
    // Identifiants JavaScript
    .nx { color: #9cdcfe; }
  }

  // Code inline
  p code, li code, td code {
    background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
    color: #1e293b;
    padding: 0.2rem 0.4rem;
    border-radius: 4px;
    font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
    font-size: 0.9em;
    border: 1px solid rgba(148, 163, 184, 0.2);
  }

  // Style pour les blocs sans coloration (fallback)
  pre:not(.highlight) {
    background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
    color: #e2e8f0;
    padding: 1.5rem;
    border-radius: 12px;
    overflow-x: auto;
    margin: 2rem 0;
    border: 1px solid rgba(59, 130, 246, 0.2);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
    position: relative;
    
    code {
      background: transparent;
      color: inherit;
      padding: 0;
      border: none;
      font-size: 0.95em;
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
      line-height: 1.6;
    }
  }

  // Language-specific syntax highlighting colors
  .highlight {
    pre {
      background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
    }
    
    // Keywords (function, class, return, etc.)
    .k, .kd, .kn, .kr {
      color: #7c3aed;
      font-weight: 600;
    }
    
    // Strings
    .s, .s1, .s2, .sb, .sc {
      color: #10b981;
    }
    
    // Comments
    .c, .c1, .cm {
      color: #6b7280;
      font-style: italic;
    }
    
    // Numbers
    .m, .mi, .mf {
      color: #f59e0b;
    }
    
    // Functions
    .nf {
      color: #3b82f6;
      font-weight: 600;
    }
    
    // Variables
    .n, .nv {
      color: #e2e8f0;
    }
    
    // Operators
    .o {
      color: #f97316;
    }
    
    // Brackets and punctuation
    .p {
      color: #94a3b8;
    }
    
    // Class names
    .nc {
      color: #06b6d4;
      font-weight: 600;
    }
    
    // Boolean values
    .kc {
      color: #ef4444;
      font-weight: 600;
    }
  }

  // Multi-line code blocks with language labels (Refactored for maintainability)
  $language-map: (
    "python": "Python",
    "php": "PHP",
    "javascript": "JavaScript",
    "typescript": "TypeScript",
    "yaml": "YAML",
    "scss": "SCSS",
    "bash": "Bash"
  );

  .highlight[class*="language-"] {
    position: relative;

    &::after {
      position: absolute;
      top: 0.75rem;
      right: 1rem;
      background: linear-gradient(135deg, rgba(59, 130, 246, 0.15) 0%, rgba(99, 102, 241, 0.2) 100%);
      color: #3b82f6;
      padding: 0.25rem 0.75rem;
      border-radius: 6px;
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      border: 1px solid rgba(59, 130, 246, 0.3);
    }
  }

  @each $lang, $name in $language-map {
    .language-#{$lang}::after {
      content: '#{$name}';
    }
  }
}
