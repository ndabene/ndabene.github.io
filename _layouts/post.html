---
layout: default
---

<!-- Schema.org Article pour GEO -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "TechArticle",
  "headline": "{{ page.title }}",
  "description": "{{ page.excerpt | strip_html | strip }}",
  "image": {
    "@type": "ImageObject",
    "url": "{{ site.url }}{{ page.image | default: '/assets/images/blog/default-blog.jpg' }}",
    "width": 1200,
    "height": 630
  },
  "author": {
    "@type": "Person",
    "name": "{{ page.author | default: site.author.name }}",
    "url": "{{ site.url }}",
    "jobTitle": "Senior PHP FullStack Developer & AI Orchestrator",
    "knowsAbout": [
      "PHP Development",
      "PrestaShop E-commerce", 
      "Artificial Intelligence Integration",
      "Web Development",
      "Software Architecture"
    ]
  },
  "publisher": {
    "@type": "Organization",
    "name": "{{ site.title }}",
    "logo": {
      "@type": "ImageObject",
      "url": "{{ site.url }}/assets/images/logo.png"
    }
  },
  "datePublished": "{{ page.date | date_to_xmlschema }}",
  "dateModified": "{{ page.date | date_to_xmlschema }}",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "{{ page.url | absolute_url }}"
  },
  "articleSection": "{% for category in page.categories %}{{ category }}{% unless forloop.last %}, {% endunless %}{% endfor %}",
  "keywords": "{% for tag in page.tags %}{{ tag }}{% unless forloop.last %}, {% endunless %}{% endfor %}",
  "inLanguage": "fr-FR",
  "wordCount": "{{ content | number_of_words }}",
  "timeRequired": "PT{{ content | number_of_words | divided_by: 200 | ceil }}M",
  "audience": {
    "@type": "Audience",
    "audienceType": "D√©veloppeurs, Architectes logiciel, CTO, Technical Leaders"
  },
  "teaches": "{{ page.excerpt | strip_html | strip }}",
  "educationalLevel": "{% if page.difficulty %}{{ page.difficulty }}{% else %}Interm√©diaire{% endif %}",
  "learningResourceType": "Article technique",
  "isAccessibleForFree": true,
  "license": "https://creativecommons.org/licenses/by/4.0/",
  "about": [
    {% for tag in page.tags %}
    {
      "@type": "Thing",
      "name": "{{ tag }}",
      "sameAs": "https://en.wikipedia.org/wiki/{{ tag | replace: ' ', '_' }}"
    }{% unless forloop.last %},{% endunless %}
    {% endfor %}
  ]
}
</script>

<article class="post-page">
    <!-- Barre d'administration pour preview -->
    {% include admin-preview-bar.html %}
    
    <!-- Reading Progress Bar -->
    {% if page.reading_progress != false %}
    <div class="reading-progress">
        <div class="reading-progress-bar"></div>
    </div>
    {% endif %}

    <!-- Header d'article en pleine largeur -->
    <header class="post-header-fullwidth">
        <div class="post-header-content">
            <div class="post-breadcrumb">
                <a href="/" class="breadcrumb-home">Accueil</a>
                <span class="breadcrumb-separator">/</span>
                <a href="/blog/" class="breadcrumb-blog">Blog</a>
                {% if page.categories and page.categories.size > 0 %}
                    <span class="breadcrumb-separator">/</span>
                    <span class="breadcrumb-category">{{ page.categories[0] }}</span>
                {% endif %}
            </div>

            <h1 class="post-title">{{ page.title }}</h1>

            <div class="post-meta">
                <div class="meta-primary">
                    <time datetime="{{ page.date | date_to_xmlschema }}" class="post-date">
                        <i class="fas fa-calendar-alt"></i>
                        {% include date-fr.html date=page.date %}
                    </time>
                    {% if page.author %}
                        <span class="post-author">
                            <i class="fas fa-user"></i>
                            {{ page.author }}
                        </span>
                    {% endif %}
                    {% if page.estimated_reading_time %}
                        <span class="post-reading-time">
                            <i class="fas fa-clock"></i>
                            {{ page.estimated_reading_time }}
                        </span>
                    {% endif %}
                </div>

                {% if page.technologies and page.technologies.size > 0 %}
                <div class="meta-secondary">
                    <div class="post-technologies">
                        {% for tech in page.technologies limit: 3 %}
                            <span class="tech-badge">{{ tech }}</span>
                        {% endfor %}
                        {% if page.technologies.size > 3 %}
                            <span class="tech-more">+{{ page.technologies.size | minus: 3 }}</span>
                        {% endif %}
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
    </header>

    <div class="post-content-wrapper">
        <div class="container">
            <div class="post-layout">
                <!-- Sidebar pour la table des mati√®res (desktop uniquement) -->
                {% if page.table_of_contents != false %}
                <aside class="post-sidebar">
                    <div class="sidebar-toc">
                        <h3 class="sidebar-toc-title">
                            <i class="fas fa-list"></i>
                            Table des mati√®res
                        </h3>
                        <nav class="toc-content">
                            <ul class="toc-list" id="toc-nav">
                                <!-- TOC will be generated by JavaScript -->
                            </ul>
                        </nav>
                    </div>
                </aside>
                {% endif %}

                <!-- Main Content -->
                <main class="post-main-content{% if page.table_of_contents != false %} has-sidebar{% endif %}">
                    <!-- Image de banni√®re dans le contenu -->
                    {% if page.image %}
                    <div class="post-banner-image-container">
                        <img src="{{ page.image }}" alt="{{ page.title }}" class="post-banner-image">
                    </div>
                    {% endif %}

                    <!-- Navigation s√©rie en haut de l'article -->
                    {% include series-navigation.html %}
                    

                    <article class="post-content">
                        <!-- Bloc Perplexity au-dessus de la table des mati√®res -->
                        {% if true %}
                        <div class="toc-perplexity-block">
                            <h4>üéÅ Perplexity PRO offert</h4>
                            <div class="perplexity-sidebar-content">
                                <p><strong>30 jours gratuits</strong></p>
                                <p class="sidebar-perplexity-text">T√©l√©chargez Comet, connectez votre compte et posez votre premi√®re question.</p>
                                <a href="https://pplx.ai/ndabene28081991" class="perplexity-sidebar-btn" target="_blank" rel="noopener">
                                    Activer l'offre ‚Üí
                                </a>
                            </div>
                        </div>
                        {% endif %}

                        <!-- Table des mati√®res repliable (mobile uniquement) -->
                        {% if page.table_of_contents != false %}
                        <div class="table-of-contents-inline">
                            <button class="toc-toggle" id="toc-toggle">
                                <i class="fas fa-list"></i>
                                <span>Table des mati√®res</span>
                                <i class="fas fa-chevron-down toc-arrow"></i>
                            </button>
                            <nav class="toc-content" id="toc-content">
                                <ul class="toc-list" id="toc-nav-mobile">
                                    <!-- TOC will be generated by JavaScript -->
                                </ul>
                            </nav>
                        </div>
                        {% endif %}

                        {{ content }}

                        <!-- CTA SEO/GEO -->
                    </article>
                
                    <!-- Related Resources Section -->


                    <div class="social-sharing-section">
                        <h3 class="sharing-title">
                            <i class="fas fa-share-alt"></i>
                            Partager cet article
                        </h3>
                        <div class="social-sharing-buttons">
                            <a href="https://www.linkedin.com/shareArticle?mini=true&url={{ page.url | absolute_url }}&title={{ page.title | url_encode }}&summary={{ page.description | default: page.excerpt | strip_html | url_encode }}" 
                               target="_blank" rel="noopener noreferrer" class="social-btn social-btn--linkedin" aria-label="Partager sur LinkedIn" title="Partager sur LinkedIn">
                                <i class="fab fa-linkedin-in"></i>
                            </a>
                            
                            <a href="https://twitter.com/intent/tweet?url={{ page.url | absolute_url }}&text={{ page.title | url_encode }}&hashtags=d√©veloppement,php,prestashop&via=ndabene" 
                               target="_blank" rel="noopener noreferrer" class="social-btn social-btn--twitter" aria-label="Partager sur X/Twitter" title="Partager sur X/Twitter">
                                <i class="fab fa-twitter"></i>
                            </a>
                            
                            <a href="https://www.facebook.com/sharer/sharer.php?u={{ page.url | absolute_url }}" 
                               target="_blank" rel="noopener noreferrer" class="social-btn social-btn--facebook" aria-label="Partager sur Facebook" title="Partager sur Facebook">
                                <i class="fab fa-facebook-f"></i>
                            </a>
                            
                            <a href="https://reddit.com/submit?url={{ page.url | absolute_url }}&title={{ page.title | url_encode }}" 
                               target="_blank" rel="noopener noreferrer" class="social-btn social-btn--reddit" aria-label="Partager sur Reddit" title="Partager sur Reddit">
                                <i class="fab fa-reddit-alien"></i>
                            </a>
                            
                            <a href="https://api.whatsapp.com/send?text={{ page.title | url_encode }}%20{{ page.url | absolute_url }}" 
                               target="_blank" rel="noopener noreferrer" class="social-btn social-btn--whatsapp" aria-label="Partager sur WhatsApp" title="Partager sur WhatsApp">
                                <i class="fab fa-whatsapp"></i>
                            </a>
                            
                            <a href="https://t.me/share/url?url={{ page.url | absolute_url }}&text={{ page.title | url_encode }}" 
                               target="_blank" rel="noopener noreferrer" class="social-btn social-btn--telegram" aria-label="Partager sur Telegram" title="Partager sur Telegram">
                                <i class="fab fa-telegram"></i>
                            </a>
                            
                            <a href="mailto:?subject={{ page.title | url_encode }}&body=D√©couvrez cet article : {{ page.title | url_encode }}%0A%0A{{ page.url | absolute_url }}" 
                               class="social-btn social-btn--email" aria-label="Partager par email" title="Partager par email">
                                <i class="fas fa-envelope"></i>
                            </a>
                            
                            <button onclick="copyToClipboard('{{ page.url | absolute_url }}')" class="social-btn social-btn--copy" aria-label="Copier le lien" title="Copier le lien">
                                <i class="fas fa-link"></i>
                            </button>
                        </div>
                    </div>

                    <!-- CTA Publications Externes -->
                    {% include post-external-cta.html %}

                    <!-- Helper LinkedIn pour les futurs posts -->
                    {% include linkedin-preview-helper.html %}
                </main>
            </div>
        </div>
    </div>
    
    <!-- Scripts -->
    <script src="{{ '/assets/js/code-highlighting.js' | relative_url }}"></script>
    <script src="{{ '/assets/js/social-sharing.js' | relative_url }}"></script>
    
    <!-- Reading Progress & TOC Script -->
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Reading Progress Bar
        const progressBar = document.querySelector('.reading-progress-bar');
        if (progressBar) {
            function updateReadingProgress() {
                const article = document.querySelector('.post-content');
                if (!article) return;
                
                const articleTop = article.offsetTop;
                const articleHeight = article.offsetHeight;
                const windowHeight = window.innerHeight;
                const scrollTop = window.pageYOffset;
                
                const progress = Math.min(
                    Math.max((scrollTop + windowHeight - articleTop) / articleHeight, 0),
                    1
                );
                
                progressBar.style.width = (progress * 100) + '%';
            }
            
            window.addEventListener('scroll', updateReadingProgress);
            updateReadingProgress();
        }
        
        // TOC Toggle functionality
        const tocToggle = document.getElementById('toc-toggle');
        const tocContent = document.getElementById('toc-content');
        const tocContainer = document.querySelector('.table-of-contents-inline');
        
        if (tocToggle && tocContent) {
            tocToggle.addEventListener('click', function() {
                tocToggle.classList.toggle('active');
                tocContent.classList.toggle('expanded');
            });
        }
        
        // TOC Sticky au scroll
        if (tocContainer) {
            const navbar = document.querySelector('.main-navigation');
            let isSticky = false;
            let tocOriginalTop = 0;
            
            // Fonction pour recalculer la position d'origine
            function updateOriginalPosition() {
                if (isSticky) {
                    // Temporairement d√©sactiver le sticky pour obtenir la vraie position
                    tocContainer.classList.remove('sticky', 'mobile-sticky');
                    tocContainer.style.cssText = ''; // Reset complet
                    isSticky = false;
                }
                
                // Recalculer la position d'origine
                tocOriginalTop = tocContainer.getBoundingClientRect().top + window.pageYOffset;
            }
            
            // Initialiser la position d'origine
            updateOriginalPosition();
            
            // Recalculer apr√®s le chargement complet des images
            window.addEventListener('load', () => {
                setTimeout(updateOriginalPosition, 100);
            });
            
            function handleTocSticky() {
                const scrollTop = window.pageYOffset;
                const isDesktop = window.innerWidth > 1024;
                const isMobile = window.innerWidth <= 768;
                const navbarHeight = navbar ? navbar.offsetHeight : 70;
                
                // Seuil pour activer/d√©sactiver le sticky (plus pr√©cis)
                const stickyThreshold = tocOriginalTop - navbarHeight - 30;
                const shouldBeSticky = (isDesktop || isMobile) && scrollTop > stickyThreshold;
                
                if (shouldBeSticky && !isSticky) {
                    // Activation du mode sticky
                    isSticky = true;
                    tocContainer.classList.add('sticky');
                    
                    if (isMobile) {
                        tocContainer.classList.add('mobile-sticky');
                        // Mobile sticky - en haut de l'√©cran au-dessus de la navbar
                        tocContainer.style.top = '10px';
                        tocContainer.style.left = '1rem';
                        tocContainer.style.right = '1rem';
                        tocContainer.style.transform = 'none';
                    } else if (isDesktop) {
                        // Desktop sticky - centr√© horizontalement sous la navbar
                        tocContainer.style.top = (navbarHeight + 20) + 'px';
                        tocContainer.style.left = '50%';
                        tocContainer.style.right = 'auto';
                        tocContainer.style.transform = 'translateX(-50%)';
                    }
                } else if (!shouldBeSticky && isSticky) {
                    // D√©sactivation du mode sticky - retour √† la position normale
                    isSticky = false;
                    
                    // Reset complet imm√©diat pour retrouver la position d'origine
                    tocContainer.classList.remove('sticky', 'mobile-sticky');
                    tocContainer.style.cssText = ''; // Reset complet de tous les styles inline
                    
                    // Petite animation pour le retour
                    tocContainer.style.transition = 'all 0.3s ease-out';
                    setTimeout(() => {
                        tocContainer.style.transition = '';
                    }, 300);
                }
            }
            
            window.addEventListener('scroll', handleTocSticky);
            window.addEventListener('resize', function() {
                // Recalculer la position d'origine apr√®s resize
                setTimeout(() => {
                    updateOriginalPosition();
                    handleTocSticky();
                }, 100);
            });
        }
        
        // Auto-generate Table of Contents
        const tocNavDesktop = document.getElementById('toc-nav');
        const tocNavMobile = document.getElementById('toc-nav-mobile');

        if (tocNavDesktop || tocNavMobile) {
            const headings = document.querySelectorAll('.post-content h2, .post-content h3');
            let tocHTML = '';

            headings.forEach((heading, index) => {
                const id = 'heading-' + index;
                heading.id = id;

                const level = heading.tagName.toLowerCase();
                const text = heading.textContent;
                const className = level === 'h2' ? 'toc-h2' : 'toc-h3';

                tocHTML += `<li class="${className}"><a href="#${id}">${text}</a></li>`;
            });

            // G√©n√©rer la TOC pour desktop (sidebar)
            if (tocNavDesktop) {
                tocNavDesktop.innerHTML = tocHTML;
            }

            // G√©n√©rer la TOC pour mobile (inline)
            if (tocNavMobile) {
                tocNavMobile.innerHTML = tocHTML;
            }

            // Fonction pour mettre √† jour les liens actifs
            function updateActiveLinks() {
                let current = '';
                headings.forEach(heading => {
                    const rect = heading.getBoundingClientRect();
                    if (rect.top <= 100) {
                        current = heading.id;
                    }
                });

                // Mettre √† jour les liens dans la sidebar desktop
                if (tocNavDesktop) {
                    const desktopLinks = tocNavDesktop.querySelectorAll('a');
                    desktopLinks.forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('href') === '#' + current) {
                            link.classList.add('active');
                        }
                    });
                }

                // Mettre √† jour les liens dans la TOC mobile
                if (tocNavMobile) {
                    const mobileLinks = tocNavMobile.querySelectorAll('a');
                    mobileLinks.forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('href') === '#' + current) {
                            link.classList.add('active');
                        }
                    });
                }
            }

            window.addEventListener('scroll', updateActiveLinks);
            updateActiveLinks();

            // Gestion du scroll avec offset pour tous les liens TOC
            const allTocLinks = document.querySelectorAll('#toc-nav a, #toc-nav-mobile a');
            allTocLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href').substring(1);
                    const targetElement = document.getElementById(targetId);
                    const navbar = document.querySelector('.main-navigation');
                    const navbarHeight = navbar ? navbar.offsetHeight : 70;
                    const isMobile = window.innerWidth <= 768;

                    if (targetElement) {
                        const offsetTop = targetElement.getBoundingClientRect().top + window.pageYOffset;
                        const scrollOffset = isMobile ? navbarHeight + 20 : navbarHeight + 30;

                        window.scrollTo({
                            top: offsetTop - scrollOffset,
                            behavior: 'smooth'
                        });

                        // Fermer la TOC sur mobile apr√®s clic
                        if (isMobile && tocContent && tocContent.classList.contains('expanded')) {
                            tocToggle.click();
                        }
                    }
                });
            });
        }
    });
    
    // Inline "Ressources li√©es" handling: style inline list and avoid duplicate footer
    document.addEventListener('DOMContentLoaded', function() {
        const postContentEl = document.querySelector('.post-content');
        const footerRelatedEl = document.querySelector('.related-resources');
        if (!postContentEl) return;
        
        const headings = postContentEl.querySelectorAll('h2, h3, h4');
        let relatedHeading = null;
        headings.forEach(function(h) {
            const text = (h.textContent || '').trim().toLowerCase();
            if (text.includes('ressources li√©es')) {
                relatedHeading = h;
            }
        });
        
        if (relatedHeading) {
            postContentEl.classList.add('has-inline-related');
            const nextEl = relatedHeading.nextElementSibling;
            if (nextEl && nextEl.tagName && nextEl.tagName.toLowerCase() === 'ul') {
                // Create a resources wrapper
                const wrapper = document.createElement('div');
                wrapper.className = 'related-resources inline-resources';
                
                // Move the list into this wrapper
                const clone = nextEl.cloneNode(true);
                const gridDiv = document.createElement('div');
                gridDiv.className = 'resources-grid';
                
                // Convert li elements to resource-links
                const items = clone.querySelectorAll('li');
                items.forEach(function(item) {
                    const link = item.querySelector('a');
                    if (link) {
                        const resourceLink = document.createElement('a');
                        resourceLink.className = 'resource-link';
                        resourceLink.href = link.href;
                        
                        const icon = document.createElement('span');
                        icon.className = 'icon';
                        icon.textContent = '‚Üí';
                        
                        resourceLink.appendChild(icon);
                        resourceLink.appendChild(document.createTextNode(link.textContent));
                        gridDiv.appendChild(resourceLink);
                    }
                });
                
                wrapper.appendChild(gridDiv);
                
                // Replace the original list with our enhanced version
                nextEl.parentNode.replaceChild(wrapper, nextEl);
                relatedHeading.style.display = 'none'; // Hide the original heading
            }
            
            if (footerRelatedEl) {
                footerRelatedEl.style.display = 'none';
            }
        }
    });
    </script>
</article>